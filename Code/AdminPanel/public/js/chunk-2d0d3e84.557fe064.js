(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d3e84"],{"5f85":function(t,r,e){"use strict";e.r(r);var i=function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("div",[e("v-card",[e("v-card-title",[e("v-icon",{attrs:{color:"primary"}},[t._v(" mdi-alert-circle-outline ")]),e("span",{staticClass:"pl-2"},[t._v("Driver Schedule Conflicts")])],1),e("v-data-table",{attrs:{"item-key":"id",loading:t.isLoading,"loading-text":"Loading... Please wait",headers:t.headers,items:t.driverConflicts,search:t.search},scopedSlots:t._u([{key:"top",fn:function(){return[e("v-text-field",{staticClass:"mx-4",attrs:{label:"Search"},model:{value:t.search,callback:function(r){t.search=r},expression:"search"}})]},proxy:!0},{key:"item.driver",fn:function(r){var i=r.item;return[e("a",{on:{click:function(r){return r.stopPropagation(),t.displayDriver(i.driver.id)}}},[t._v(t._s(i.driver.name))])]}},{key:"item.intersect_date",fn:function(r){var i=r.item;return[e("span",[t._v(t._s(t._f("moment")(i.intersect_date,"LL")))])]}},{key:"item.current_trip",fn:function(r){var i=r.item;return[e("a",{on:{click:function(r){return r.stopPropagation(),t.displayTrip(i.current_trip.id)}}},[t._v(t._s(i.current_trip.id)+" "),e("div",[e("strong",[t._v("Route:")]),t._v(" "+t._s(i.current_trip.route.name)+" ")]),e("div",[e("strong",[t._v("Start:")]),t._v(" "+t._s(t._f("moment")(i.current_trip.first_stop_time,"LT"))+" ")]),e("div",[e("strong",[t._v("End:")]),t._v(" "+t._s(t._f("moment")(i.current_trip.last_stop_time,"LT"))+" ")])])]}},{key:"item.current_trip_calender",fn:function(r){var i=r.item;return[e("v-btn",{attrs:{depressed:"",small:"",color:"primary"},on:{click:function(r){return t.viewTripCalendar(i.current_trip)}}},[e("v-icon",{attrs:{dark:""}},[t._v(" mdi-calendar ")])],1)]}},{key:"item.other_trip",fn:function(r){var i=r.item;return[e("a",{on:{click:function(r){return r.stopPropagation(),t.displayTrip(i.other_trip.id)}}},[t._v(t._s(i.other_trip.id)+" "),e("div",[e("strong",[t._v("Route:")]),t._v(" "+t._s(i.other_trip.route.name)+" ")]),e("div",[e("strong",[t._v("Start:")]),t._v(" "+t._s(t._f("moment")(i.other_trip.first_stop_time,"LT"))+" ")]),t._v(" "),e("div",[e("strong",[t._v("End:")]),t._v(" "+t._s(t._f("moment")(i.other_trip.last_stop_time,"LT"))+" ")])])]}},{key:"item.other_trip_calender",fn:function(r){var i=r.item;return[e("v-btn",{attrs:{depressed:"",small:"",color:"error"},on:{click:function(r){return t.viewTripCalendar(i.other_trip)}}},[e("v-icon",{attrs:{dark:""}},[t._v(" mdi-calendar ")])],1)]}}])})],1)],1)},n=[],a=e("94ed"),o={components:{},data:function(){return{driverConflicts:[],isLoading:!1,search:"",icons:{mdiStopCircleOutline:a["Q"],mdiPlayCircleOutline:a["O"],mdiTrashCan:a["S"],mdiDeleteRestore:a["w"],mdiAirplane:a["f"]},headers:[{text:"Driver",align:"start",value:"driver"},{text:"Current Trip",sortable:!1,value:"current_trip"},{text:"Details",sortable:!1,value:"current_trip_calender"},{text:"Conflicting Trip",sortable:!1,value:"other_trip"},{text:"Details",sortable:!1,value:"other_trip_calender"},{text:"Conflict Date",value:"intersect_date"}]}},mounted:function(){this.loadDriverConflicts()},methods:{displayTrip:function(t){this.$router.push({name:"view-trip",params:{trip_id:t}})},displayDriver:function(t){this.$router.push({name:"view-user",params:{user_id:t}})},viewTripCalendar:function(t){this.$router.push({name:"view-calendar",params:{trip_id:t.id,suspension_id:"none"}})},loadDriverConflicts:function(){var t=this;this.isLoading=!0,this.driverConflicts=[],axios.get("/drivers/conflicts").then((function(r){t.driverConflicts=r.data.conflicts}))["catch"]((function(r){t.$notify({title:"Error",text:"Error while retrieving driver conflicts",type:"error"}),console.log(r),t.$swal("Error",r.response.data.message,"error")})).then((function(){t.isLoading=!1}))}}},s=o,c=e("2877"),l=e("6544"),d=e.n(l),u=e("8336"),_=e("b0af"),v=e("99d9"),p=e("8fea"),f=e("132d"),m=e("8654"),h=Object(c["a"])(s,i,n,!1,null,null,null);r["default"]=h.exports;d()(h,{VBtn:u["a"],VCard:_["a"],VCardTitle:v["c"],VDataTable:p["a"],VIcon:f["a"],VTextField:m["a"]})}}]);
//# sourceMappingURL=chunk-2d0d3e84.557fe064.js.map
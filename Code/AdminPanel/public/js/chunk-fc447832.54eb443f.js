(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fc447832"],{5094:function(e,t,i){},"5c1c":function(e,t,i){"use strict";i("5094")},bbf2:function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("v-card",[i("v-card-title",[i("v-icon",{attrs:{color:"primary"}},[e._v(" mdi-cash-multiple ")]),i("span",{staticClass:"pl-2"},[e._v("Redemptions")])],1),i("v-data-table",{attrs:{"item-key":"id",loading:e.isLoading,"loading-text":"Loading... Please wait",headers:e.headers,items:e.redemptions,search:e.search},scopedSlots:e._u([{key:"top",fn:function(){return[i("v-text-field",{staticClass:"mx-4",attrs:{label:"Search"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})]},proxy:!0},{key:"item.date",fn:function(t){var n=t.item;return[i("small",[e._v(e._s(e._f("moment")(n.date,"LL")))])]}},{key:"item.user_id",fn:function(t){var n=t.item;return[i("a",{on:{click:function(t){return t.stopPropagation(),e.displayUser(n.user_id)}}},[e._v(e._s(n.user_name))])]}},{key:"item.redemption_preference",fn:function(t){var n=t.item;return[i("v-chip",{attrs:{color:e.getRedemptionPreferenceColor(n.redemption_preference),dark:""},on:{click:function(t){e.displayRedemptionPreference(e.redemptions.indexOf(n))}}},[e._v(" "+e._s(e.getRedemptionPreferenceValue(n.redemption_preference))+" "),i("v-icon",{staticClass:"ml-2"},[e._v(" "+e._s(e.getIconOfRedemptionPreference(n.redemption_preference))+" ")])],1)]}}])})],1)],1)},r=[],o=(i("b0c0"),i("b012")),s={components:{},data:function(){return{redemptions:[],isLoading:!1,search:"",headers:[{text:"ID",value:"id",align:"start",filterable:!1},{text:"User Name",value:"user_id"},{text:"Redemption",value:"redemption_preference"},{text:"Amount",value:"redemption_amount"},{text:"Date",value:"date"}]}},mounted:function(){this.fetchRedemptions()},methods:{getIconOfRedemptionPreference:function(e){return 2==e?"mdi-bank":3==e?"mdi-credit-card":4==e?"mdi-credit-card-multiple":"mdi-cash"},getRedemptionPreferenceColor:function(e){return 2==e?"primary":3==e?"info":4==e?"secondary":"success"},getRedemptionPreferenceValue:function(e){return 2==e?"Bank":3==e?"PayPal":4==e?"Mobile Money":"Cash"},displayRedemptionPreference:function(e){this.$swal({title:this.showRedemptionTitle(e),html:this.showRedemptionDetails(e),icon:"info"})},showRedemptionTitle:function(e){var t=this.redemptions[e].redemption_preference;return 2==t?"<h2>Bank Account</h2>":3==t?"<h2>PayPal</h2>":4==t?"<h2>Mobile Money</h2>":"<h2>Cash</h2>"},showRedemptionDetails:function(e){var t=this.redemptions[e].redemption_preference;return 2==t?"<ul><li><b>Bank Name:</b> "+this.redemptions[e].redemption_details.bank_name+"</li><li><b>Account Number:</b> "+this.redemptions[e].redemption_details.account_number+"</li><li><b>Beneficiary Name:</b> "+this.redemptions[e].redemption_details.beneficiary_name+"</li><li><b>Beneficiary Address:</b> "+this.redemptions[e].redemption_details.beneficiary_address+"</li>"+(null!=this.redemptions[e].redemption_details.iban?"<li><b>IBAN:</b> "+this.redemptions[e].redemption_details.iban+"</li>":"")+(null!=this.redemptions[e].redemption_details.swift?"<li><b>Swift:</b> "+this.redemptions[e].redemption_details.swift+"</li>":"")+(null!=this.redemptions[e].redemption_details.routing_number?"<li><b>Routing Number:</b> "+this.redemptions[e].redemption_details.routing_number+"</li>":"")+(null!=this.redemptions[e].redemption_details.bic?"<li><b>Bank Identification Code:</b> "+this.redemptions[e].redemption_details.bic+"</li>":"")+"</ul>":3==t?"<b>PayPal:</b> "+this.redemptions[e].redemption_details.email:4==t?"<ul><li><b>Phone Number:</b> "+this.redemptions[e].redemption_details.phone_number+"</li><li><b>Network:</b> "+this.redemptions[e].redemption_details.network+"</li><li><b>Name:</b> "+this.redemptions[e].redemption_details.name+"</li></ul>":""},displayUser:function(e){this.$router.push({name:"view-user",params:{user_id:e}})},fetchRedemptions:function(){var e=this;this.isLoading=!0,this.redemptions=[],axios.get("/users/redemptions").then((function(t){e.redemptions=t.data,console.log(t.data)}))["catch"]((function(t){e.$notify({title:"Error",text:"Error while retrieving payment details",type:"error"}),console.log(t),o["a"].checkError(t.response.data.message,e.$router,e.$swal)})).then((function(){e.isLoading=!1}))}}},a=s,d=(i("5c1c"),i("2877")),l=i("6544"),c=i.n(l),m=i("b0af"),p=i("99d9"),u=i("cc20"),h=i("8fea"),f=i("132d"),b=i("8654"),_=Object(d["a"])(a,n,r,!1,null,null,null);t["default"]=_.exports;c()(_,{VCard:m["a"],VCardTitle:p["c"],VChip:u["a"],VDataTable:h["a"],VIcon:f["a"],VTextField:b["a"]})}}]);
//# sourceMappingURL=chunk-fc447832.54eb443f.js.map
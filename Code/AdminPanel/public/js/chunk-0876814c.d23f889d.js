(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0876814c"],{"0fd9":function(t,e,i){"use strict";var n=i("ade3"),s=i("5530"),a=(i("13d5"),i("d3b7"),i("caad"),i("2532"),i("99af"),i("b64b"),i("ac1f"),i("5319"),i("4ec9"),i("3ca3"),i("ddb0"),i("4160"),i("159b"),i("4b85"),i("2b0e")),r=i("d9f7"),o=i("80d2"),l=["sm","md","lg","xl"],c=["start","end","center"];function u(t,e){return l.reduce((function(i,n){return i[t+Object(o["G"])(n)]=e(),i}),{})}var d=function(t){return[].concat(c,["baseline","stretch"]).includes(t)},h=u("align",(function(){return{type:String,default:null,validator:d}})),p=function(t){return[].concat(c,["space-between","space-around"]).includes(t)},f=u("justify",(function(){return{type:String,default:null,validator:p}})),v=function(t){return[].concat(c,["space-between","space-around","stretch"]).includes(t)},m=u("alignContent",(function(){return{type:String,default:null,validator:v}})),g={align:Object.keys(h),justify:Object.keys(f),alignContent:Object.keys(m)},b={align:"align",justify:"justify",alignContent:"align-content"};function _(t,e,i){var n=b[t];if(null!=i){if(e){var s=e.replace(t,"");n+="-".concat(s)}return n+="-".concat(i),n.toLowerCase()}}var y=new Map;e["a"]=a["default"].extend({name:"v-row",functional:!0,props:Object(s["a"])(Object(s["a"])(Object(s["a"])({tag:{type:String,default:"div"},dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:d}},h),{},{justify:{type:String,default:null,validator:p}},f),{},{alignContent:{type:String,default:null,validator:v}},m),render:function(t,e){var i=e.props,s=e.data,a=e.children,o="";for(var l in i)o+=String(i[l]);var c=y.get(o);return c||function(){var t,e;for(e in c=[],g)g[e].forEach((function(t){var n=i[t],s=_(e,t,n);s&&c.push(s)}));c.push((t={"no-gutters":i.noGutters,"row--dense":i.dense},Object(n["a"])(t,"align-".concat(i.align),i.align),Object(n["a"])(t,"justify-".concat(i.justify),i.justify),Object(n["a"])(t,"align-content-".concat(i.alignContent),i.alignContent),t)),y.set(o,c)}(),t(i.tag,Object(r["a"])(s,{staticClass:"row",class:c}),a)}})},"4bd4":function(t,e,i){"use strict";var n=i("5530"),s=(i("caad"),i("2532"),i("07ac"),i("4de4"),i("d3b7"),i("4160"),i("159b"),i("4795"),i("7db0"),i("58df")),a=i("7e2b"),r=i("3206");e["a"]=Object(s["a"])(a["a"],Object(r["b"])("form")).extend({name:"v-form",provide:function(){return{form:this}},inheritAttrs:!1,props:{disabled:Boolean,lazyValidation:Boolean,readonly:Boolean,value:Boolean},data:function(){return{inputs:[],watchers:[],errorBag:{}}},watch:{errorBag:{handler:function(t){var e=Object.values(t).includes(!0);this.$emit("input",!e)},deep:!0,immediate:!0}},methods:{watchInput:function(t){var e=this,i=function(t){return t.$watch("hasError",(function(i){e.$set(e.errorBag,t._uid,i)}),{immediate:!0})},n={_uid:t._uid,valid:function(){},shouldValidate:function(){}};return this.lazyValidation?n.shouldValidate=t.$watch("shouldValidate",(function(s){s&&(e.errorBag.hasOwnProperty(t._uid)||(n.valid=i(t)))})):n.valid=i(t),n},validate:function(){return 0===this.inputs.filter((function(t){return!t.validate(!0)})).length},reset:function(){this.inputs.forEach((function(t){return t.reset()})),this.resetErrorBag()},resetErrorBag:function(){var t=this;this.lazyValidation&&setTimeout((function(){t.errorBag={}}),0)},resetValidation:function(){this.inputs.forEach((function(t){return t.resetValidation()})),this.resetErrorBag()},register:function(t){this.inputs.push(t),this.watchers.push(this.watchInput(t))},unregister:function(t){var e=this.inputs.find((function(e){return e._uid===t._uid}));if(e){var i=this.watchers.find((function(t){return t._uid===e._uid}));i&&(i.valid(),i.shouldValidate()),this.watchers=this.watchers.filter((function(t){return t._uid!==e._uid})),this.inputs=this.inputs.filter((function(t){return t._uid!==e._uid})),this.$delete(this.errorBag,e._uid)}}},render:function(t){var e=this;return t("form",{staticClass:"v-form",attrs:Object(n["a"])({novalidate:!0},this.attrs$),on:{submit:function(t){return e.$emit("submit",t)}}},this.$slots["default"])}})},"61c2":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("v-card",[i("v-card-title",[i("v-icon",{attrs:{color:"primary"}},[t._v(" mdi-cog ")]),i("span",{staticClass:"pl-2"},[t._v("Settings")])],1),i("v-card-text",[i("vue-element-loading",{attrs:{active:t.isLoading}}),t.settings?i("v-form",{ref:"form",staticClass:"my-2",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[i("v-row",[i("v-col",{staticClass:"my-2",attrs:{cols:"12",md:"4"}},[i("v-autocomplete",{attrs:{items:t.currencies,dense:"",outlined:"","item-text":"name","item-value":"id",label:"Currency",filter:t.customFilter,"persistent-hint":"","return-object":"",required:"",rules:t.requiredRules,hint:null!=t.selectedCurrency?t.selectedCurrency.code+" ("+t.selectedCurrency.symbol+")":""},on:{change:t.currencySelected},model:{value:t.selectedCurrency,callback:function(e){t.selectedCurrency=e},expression:"selectedCurrency"}})],1),i("v-col",{staticClass:"my-2",attrs:{cols:"12",md:"4"}},[i("v-text-field",{attrs:{type:"number",outlined:"",dense:"",label:"Rate per km",placeholder:"Enter rate per km","persistent-hint":"",required:"",rules:t.numberRules},model:{value:t.settings.rate_per_km,callback:function(e){t.$set(t.settings,"rate_per_km",e)},expression:"settings.rate_per_km"}})],1),i("v-col",{staticClass:"my-2",attrs:{cols:"12",md:"4"}},[i("v-text-field",{attrs:{type:"number",outlined:"",dense:"",label:"Commission (%)",placeholder:"Enter commission percentage","persistent-hint":"",required:"",rules:t.percentRules},model:{value:t.settings.commission,callback:function(e){t.$set(t.settings,"commission",e)},expression:"settings.commission"}})],1),i("v-col",{staticClass:"my-2",attrs:{cols:"12",md:"4"}},[i("v-text-field",{attrs:{type:"number",outlined:"",dense:"",label:"Publish trips in future (days)",placeholder:"Enter no. of days in future to publish trips","persistent-hint":"",required:"",rules:t.numberRules},model:{value:t.settings.publish_trips_future_days,callback:function(e){t.$set(t.settings,"publish_trips_future_days",e)},expression:"settings.publish_trips_future_days"}})],1),i("v-col",{staticClass:"my-2",attrs:{cols:"12",md:"4"}},[i("v-text-field",{attrs:{type:"number",outlined:"",dense:"",label:"Max distance to stop (km)",placeholder:"Enter max distance to stop to be included in search results","persistent-hint":"",required:"",rules:t.numberRules},model:{value:t.settings.max_distance_to_stop,callback:function(e){t.$set(t.settings,"max_distance_to_stop",e)},expression:"settings.max_distance_to_stop"}})],1),i("v-col",{staticClass:"my-2",attrs:{cols:"12",md:"4"}},[i("v-text-field",{attrs:{type:"number",outlined:"",dense:"",label:"Distance to stop to mark arrived by a driver (meter)",placeholder:"Enter distance to stop to mark arrived by driver","persistent-hint":"",required:"",rules:t.numberRules},model:{value:t.settings.distance_to_stop_to_mark_arrived,callback:function(e){t.$set(t.settings,"distance_to_stop_to_mark_arrived",e)},expression:"settings.distance_to_stop_to_mark_arrived"}})],1)],1),i("div",{staticClass:"mt-8"},[i("label",{staticClass:"text--secondary font-weight-bold"},[t._v("Bus settings")])]),i("v-row",[i("v-col",{attrs:{cols:"12",md:"6"}},[i("v-checkbox",{attrs:{label:"Allow seat selection","persistent-hint":""},model:{value:t.settings.allow_seat_selection,callback:function(e){t.$set(t.settings,"allow_seat_selection",e)},expression:"settings.allow_seat_selection"}})],1)],1),i("div",{staticClass:"mt-8"},[i("label",{staticClass:"text--secondary font-weight-bold"},[t._v("Ads settings")])]),i("v-row",[i("v-col",{attrs:{cols:"12",md:"6"}},[i("v-checkbox",{attrs:{label:"Allow ads in driver app","persistent-hint":""},model:{value:t.settings.allow_ads_in_driver_app,callback:function(e){t.$set(t.settings,"allow_ads_in_driver_app",e)},expression:"settings.allow_ads_in_driver_app"}}),i("v-checkbox",{attrs:{label:"Allow ads in customer app","persistent-hint":""},model:{value:t.settings.allow_ads_in_customer_app,callback:function(e){t.$set(t.settings,"allow_ads_in_customer_app",e)},expression:"settings.allow_ads_in_customer_app"}})],1)],1)],1):t._e()],1),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{disabled:!t.valid,color:"primary"},on:{click:t.saveSettings}},[t._v(" Save "),i("v-icon",{attrs:{right:"",dark:""}},[t._v(" mdi-content-save ")])],1)],1)],1)],1)},s=[],a=(i("ac1f"),i("00b4"),i("b0c0"),i("c975"),i("6ad0")),r=i.n(a),o={components:{VueElementLoading:r.a},data:function(){return{currencies:[],isLoading:!1,settings:null,valid:!0,requiredRules:[function(t){return!!t||"Required."}],numberRules:[function(t){return/^(0*[1-9][0-9]*(\.[0-9]+)?|0+\.[0-9]*[1-9][0-9]*)$/.test(t)||"Must be greater than 0"}],percentRules:[function(t){return/^100$|^[0-9]{1,2}$|^[0-9]{1,2}\,[0-9]{1,3}$/.test(t)||"Must be from 0 to 100"}],selectedCurrency:null}},mounted:function(){this.loadSettings()},methods:{customFilter:function(t,e,i){var n=t.name.toLowerCase(),s=t.code.toLowerCase(),a=e.toLowerCase();return n.indexOf(a)>-1||s.indexOf(a)>-1},saveSettings:function(){var t=this;this.submiting=!0,axios.post("/settings/update",this.settings).then((function(e){t.submiting=!1,t.$notify({title:"Success",text:"Settings updated!",type:"success"})}))["catch"]((function(e){t.submiting=!1,t.$notify({title:"Error",text:"Error updating settings",type:"error"}),console.log(e)}))},loadSettings:function(){var t=this;this.isLoading=!0,this.settings=[],axios.get("/settings/all").then((function(e){t.settings=e.data,t.loadCurrencies(),t.selectedCurrency=t.settings.currency}))["catch"]((function(e){t.$notify({title:"Error",text:"Error while retrieving settings",type:"error"}),console.log(e),t.$swal("Error",e.response.data.message,"error")})).then((function(){t.isLoading=!1}))},loadCurrencies:function(){var t=this;this.isLoading=!0,this.currencies=[],axios.get("/currencies/all").then((function(e){t.currencies=e.data}))["catch"]((function(e){t.$notify({title:"Error",text:"Error while retrieving currencies",type:"error"}),console.log(e),t.$swal("Error",e.response.data.message,"error")})).then((function(){t.isLoading=!1}))},validate:function(){this.valid=!1;var t=this.$refs.form.validate();return!!t&&(this.valid=!0,!0)},currencySelected:function(t){this.selectedCurrency=t,this.settings.currency_id=this.selectedCurrency.id}}},l=o,c=i("2877"),u=i("6544"),d=i.n(u),h=i("c6a6"),p=i("8336"),f=i("b0af"),v=i("99d9"),m=i("ac7c"),g=i("62ad"),b=i("4bd4"),_=i("132d"),y=i("0fd9"),C=i("2fa4"),x=i("8654"),w=Object(c["a"])(l,n,s,!1,null,null,null);e["default"]=w.exports;d()(w,{VAutocomplete:h["a"],VBtn:p["a"],VCard:f["a"],VCardActions:v["a"],VCardText:v["b"],VCardTitle:v["c"],VCheckbox:m["a"],VCol:g["a"],VForm:b["a"],VIcon:_["a"],VRow:y["a"],VSpacer:C["a"],VTextField:x["a"]})},"6ca7":function(t,e,i){},ac7c:function(t,e,i){"use strict";var n=i("15fd"),s=i("5530"),a=(i("0d03"),i("d3b7"),i("25f0"),i("6ca7"),i("ec29"),i("9d26")),r=i("c37a"),o=(i("277d"),i("45fc"),i("4de4"),i("5607")),l=i("2b0e"),c=l["default"].extend({name:"rippleable",directives:{ripple:o["a"]},props:{ripple:{type:[Boolean,Object],default:!0}},methods:{genRipple:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.ripple?(t.staticClass="v-input--selection-controls__ripple",t.directives=t.directives||[],t.directives.push({name:"ripple",value:{center:!0}}),this.$createElement("div",t)):null}}}),u=i("8547"),d=i("58df");function h(t){t.preventDefault()}var p=Object(d["a"])(r["a"],c,u["a"]).extend({name:"selectable",model:{prop:"inputValue",event:"change"},props:{id:String,inputValue:null,falseValue:null,trueValue:null,multiple:{type:Boolean,default:null},label:String},data:function(){return{hasColor:this.inputValue,lazyValue:this.inputValue}},computed:{computedColor:function(){if(this.isActive)return this.color?this.color:this.isDark&&!this.appIsDark?"white":"primary"},isMultiple:function(){return!0===this.multiple||null===this.multiple&&Array.isArray(this.internalValue)},isActive:function(){var t=this,e=this.value,i=this.internalValue;return this.isMultiple?!!Array.isArray(i)&&i.some((function(i){return t.valueComparator(i,e)})):void 0===this.trueValue||void 0===this.falseValue?e?this.valueComparator(e,i):Boolean(i):this.valueComparator(i,this.trueValue)},isDirty:function(){return this.isActive},rippleState:function(){return this.isDisabled||this.validationState?this.validationState:void 0}},watch:{inputValue:function(t){this.lazyValue=t,this.hasColor=t}},methods:{genLabel:function(){var t=r["a"].options.methods.genLabel.call(this);return t?(t.data.on={click:h},t):t},genInput:function(t,e){return this.$createElement("input",{attrs:Object.assign({"aria-checked":this.isActive.toString(),disabled:this.isDisabled,id:this.computedId,role:t,type:t},e),domProps:{value:this.value,checked:this.isActive},on:{blur:this.onBlur,change:this.onChange,focus:this.onFocus,keydown:this.onKeydown,click:h},ref:"input"})},onBlur:function(){this.isFocused=!1},onClick:function(t){this.onChange(),this.$emit("click",t)},onChange:function(){var t=this;if(this.isInteractive){var e=this.value,i=this.internalValue;if(this.isMultiple){Array.isArray(i)||(i=[]);var n=i.length;i=i.filter((function(i){return!t.valueComparator(i,e)})),i.length===n&&i.push(e)}else i=void 0!==this.trueValue&&void 0!==this.falseValue?this.valueComparator(i,this.trueValue)?this.falseValue:this.trueValue:e?this.valueComparator(i,e)?null:e:!i;this.validate(!0,i),this.internalValue=i,this.hasColor=i}},onFocus:function(){this.isFocused=!0},onKeydown:function(t){}}}),f=["title"];e["a"]=p.extend({name:"v-checkbox",props:{indeterminate:Boolean,indeterminateIcon:{type:String,default:"$checkboxIndeterminate"},offIcon:{type:String,default:"$checkboxOff"},onIcon:{type:String,default:"$checkboxOn"}},data:function(){return{inputIndeterminate:this.indeterminate}},computed:{classes:function(){return Object(s["a"])(Object(s["a"])({},r["a"].options.computed.classes.call(this)),{},{"v-input--selection-controls":!0,"v-input--checkbox":!0,"v-input--indeterminate":this.inputIndeterminate})},computedIcon:function(){return this.inputIndeterminate?this.indeterminateIcon:this.isActive?this.onIcon:this.offIcon},validationState:function(){if(!this.isDisabled||this.inputIndeterminate)return this.hasError&&this.shouldValidate?"error":this.hasSuccess?"success":null!==this.hasColor?this.computedColor:void 0}},watch:{indeterminate:function(t){var e=this;this.$nextTick((function(){return e.inputIndeterminate=t}))},inputIndeterminate:function(t){this.$emit("update:indeterminate",t)},isActive:function(){this.indeterminate&&(this.inputIndeterminate=!1)}},methods:{genCheckbox:function(){var t=this.attrs$,e=(t.title,Object(n["a"])(t,f));return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.$createElement(a["a"],this.setTextColor(this.validationState,{props:{dense:this.dense,dark:this.dark,light:this.light}}),this.computedIcon),this.genInput("checkbox",Object(s["a"])(Object(s["a"])({},e),{},{"aria-checked":this.inputIndeterminate?"mixed":this.isActive.toString()})),this.genRipple(this.setTextColor(this.rippleState))])},genDefaultSlot:function(){return[this.genCheckbox(),this.genLabel()]}}})},ec29:function(t,e,i){}}]);
//# sourceMappingURL=chunk-0876814c.d23f889d.js.map